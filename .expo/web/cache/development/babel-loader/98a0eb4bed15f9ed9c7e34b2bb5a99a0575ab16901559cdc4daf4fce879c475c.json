{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Appbar } from 'react-native-paper';\nimport { useNavigation } from '@react-navigation/native';\nimport { FirebaseApp, initializeApp } from \"firebase/app\";\nimport { getDatabase, onValue, off, push, get, set, remove, ref as sRef } from \"firebase/database\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Formulario() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    nombre = _useState2[0],\n    setNombre = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    contrasena = _useState4[0],\n    setContrasena = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    mensaje = _useState6[0],\n    setMensaje = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    empleados = _useState8[0],\n    setEmpleados = _useState8[1];\n  var navigation = useNavigation();\n  useEffect(function () {\n    var firebaseConfig = {\n      apiKey: \"AIzaSyBZoCJQgmwqXltZbBWmkZ54stBlT6jf4Gs\",\n      authDomain: \"restoapp-2e79a.firebaseapp.com\",\n      databaseURL: \"https://restoapp-2e79a-default-rtdb.firebaseio.com\",\n      projectId: \"restoapp-2e79a\",\n      storageBucket: \"restoapp-2e79a.appspot.com\",\n      messagingSenderId: \"300896535259\",\n      appId: \"1:300896535259:web:33f41bd2627b410064c2fe\",\n      measurementId: \"G-X9RC5LH6MK\"\n    };\n    var app = initializeApp(firebaseConfig);\n    var database = getDatabase(app);\n    var Empleados = sRef(database, 'Empleados');\n    var unsubscribe = onValue(Empleados, function (snapshot) {\n      var data = snapshot.val();\n      var empleadosArray = Object.values(data);\n      setEmpleados(empleadosArray);\n    });\n  }, []);\n  var verificarCuenta = function verificarCuenta() {\n    var cuentaEncontrada = empleados.find(function (cuenta) {\n      return cuenta.nombre === nombre && cuenta.contrasena === contrasena;\n    });\n    if (cuentaEncontrada) {\n      var profesion = cuentaEncontrada.puesto;\n      var _nombre = cuentaEncontrada.nombre;\n      navigation.navigate(profesion, {\n        nombre: _nombre\n      });\n      setMensaje('¡Acceso concedido!');\n    } else {\n      setMensaje('Credenciales incorrectas. Inténtalo de nuevo.');\n    }\n  };\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(Image, {\n      source: require(\"../assets/images/logo-restoapp.png\"),\n      style: styles.logo\n    }), _jsx(Appbar.Header, {\n      style: styles.line,\n      children: _jsx(Text, {\n        style: {\n          textAlign: \"center\",\n          alignContent: \"center\",\n          width: \"10\"\n        },\n        children: \"Formulario de Acceso\"\n      })\n    }), _jsxs(View, {\n      style: styles.form,\n      children: [_jsx(TextInput, {\n        label: \"Nombre\",\n        value: nombre,\n        onChangeText: function onChangeText(text) {\n          return setNombre(text);\n        },\n        style: styles.input\n      }), _jsx(TextInput, {\n        label: \"Contrase\\xF1a\",\n        secureTextEntry: true,\n        value: contrasena,\n        onChangeText: function onChangeText(text) {\n          return setContrasena(text);\n        },\n        style: styles.input\n      }), _jsx(Button, {\n        title: \"Ingresar\",\n        onPress: verificarCuenta,\n        style: styles.boton\n      }), _jsx(Text, {\n        style: styles.mensaje,\n        children: mensaje\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  logo: {\n    width: 200,\n    height: 150,\n    marginTop: 0,\n    marginBottom: 60,\n    margin: '25%'\n  },\n  line: {\n    backgroundColor: '#6CCCFC',\n    textAlign: \"center\",\n    alignContent: \"center\"\n  },\n  form: {\n    flex: 1,\n    padding: 16,\n    justifyContent: 'space-evenly'\n  },\n  input: {\n    marginVertical: 8,\n    height: 60,\n    borderWidth: 1,\n    borderColor: \"black\",\n    color: '#00469B',\n    textAlign: 'center',\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  boton: {\n    backgroundColor: '#6CCCFC',\n    color: '#6CCCFC'\n  },\n  mensaje: {\n    textAlign: 'center',\n    marginTop: 16\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","TextInput","Button","StyleSheet","SafeAreaView","Image","Appbar","useNavigation","FirebaseApp","initializeApp","getDatabase","onValue","off","push","get","set","remove","ref","sRef","jsx","_jsx","jsxs","_jsxs","Formulario","_useState","_useState2","_slicedToArray","nombre","setNombre","_useState3","_useState4","contrasena","setContrasena","_useState5","_useState6","mensaje","setMensaje","_useState7","_useState8","empleados","setEmpleados","navigation","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","database","Empleados","unsubscribe","snapshot","data","val","empleadosArray","Object","values","verificarCuenta","cuentaEncontrada","find","cuenta","profesion","puesto","navigate","style","styles","container","children","source","require","logo","Header","line","textAlign","alignContent","width","form","label","value","onChangeText","text","input","secureTextEntry","title","onPress","boton","create","flex","height","marginTop","marginBottom","margin","backgroundColor","padding","justifyContent","marginVertical","borderWidth","borderColor","color","fontSize","fontWeight"],"sources":["C:/Users/octal/OneDrive/Documentos/Diseño web/proyectos/calm-apples/calm-apples/Components/LoginForm.js"],"sourcesContent":["// Formulario.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { View, Text, TextInput, Button, StyleSheet, SafeAreaView,Image} from 'react-native';\r\nimport { Appbar } from 'react-native-paper';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { FirebaseApp, initializeApp } from \"firebase/app\";\r\nimport { getDatabase, onValue, off, push, get, set, remove, ref as sRef} from \"firebase/database\";\r\n\r\n\r\nexport default function Formulario() {\r\n    const [nombre, setNombre] = useState('');\r\n    const [contrasena, setContrasena] = useState('');\r\n    const [mensaje, setMensaje] = useState('');\r\n    const [empleados, setEmpleados] = useState([]);\r\n    const navigation = useNavigation();\r\n\r\n\r\n    useEffect(() => {\r\n      // Configura Firebase\r\n        const firebaseConfig = {\r\n        apiKey: \"AIzaSyBZoCJQgmwqXltZbBWmkZ54stBlT6jf4Gs\",\r\n        authDomain: \"restoapp-2e79a.firebaseapp.com\",\r\n        databaseURL: \"https://restoapp-2e79a-default-rtdb.firebaseio.com\",\r\n        projectId: \"restoapp-2e79a\",\r\n        storageBucket: \"restoapp-2e79a.appspot.com\",\r\n        messagingSenderId: \"300896535259\",\r\n        appId: \"1:300896535259:web:33f41bd2627b410064c2fe\",\r\n        measurementId: \"G-X9RC5LH6MK\"\r\n    };\r\n    const app: FirebaseApp = initializeApp(firebaseConfig);\r\n\r\n    const database = getDatabase(app);\r\n\r\n    const Empleados = sRef(database, 'Empleados');\r\n\r\n    const unsubscribe = onValue(Empleados, (snapshot) => {\r\n        const data = snapshot.val();\r\n        const empleadosArray = Object.values(data);\r\n            setEmpleados(empleadosArray);\r\n    });\r\n    }, []);\r\n\r\n    const verificarCuenta = () => {\r\n        const cuentaEncontrada = empleados.find(\r\n        (cuenta) =>\r\n            cuenta.nombre === nombre &&\r\n            cuenta.contrasena === contrasena\r\n        );\r\n            \r\n        if (cuentaEncontrada) {\r\n        const profesion = cuentaEncontrada.puesto;\r\n        const nombre = cuentaEncontrada.nombre;\r\n        navigation.navigate(profesion, { nombre });\r\n        setMensaje('¡Acceso concedido!');\r\n        } else {\r\n        setMensaje('Credenciales incorrectas. Inténtalo de nuevo.');\r\n        }\r\n    };\r\n\r\nreturn (\r\n    <SafeAreaView style={styles.container}>\r\n        <Image\r\n        source={require('../assets/images/logo-restoapp.png')}\r\n        style={styles.logo}\r\n        />\r\n    <Appbar.Header style={styles.line}>\r\n        <Text style={{textAlign: \"center\", alignContent:\"center\", width:\"10\"}}>Formulario de Acceso</Text>\r\n    </Appbar.Header>\r\n    <View style={styles.form}>\r\n        <TextInput\r\n            label=\"Nombre\"\r\n            value={nombre}\r\n            onChangeText={(text) => setNombre(text)}\r\n            style={styles.input}\r\n        />\r\n        <TextInput\r\n            label=\"Contraseña\"\r\n            secureTextEntry\r\n            value={contrasena}\r\n            onChangeText={(text) => setContrasena(text)}\r\n            style={styles.input}\r\n        />\r\n        <Button title=\"Ingresar\" onPress={verificarCuenta} style={styles.boton} />\r\n        <Text style={styles.mensaje}>{mensaje}</Text>\r\n    </View>\r\n    </SafeAreaView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\ncontainer: {\r\n    flex: 1,\r\n},\r\nlogo: {\r\n    width: 200,\r\n    height: 150,\r\n    marginTop: 0,\r\n    marginBottom: 60,\r\n    margin : '25%',\r\n},\r\nline: {\r\n    backgroundColor: '#6CCCFC',\r\n    textAlign: \"center\",\r\n    alignContent:\"center\"\r\n},\r\nform: {\r\n    flex: 1,\r\n    padding: 16,\r\n    justifyContent: 'space-evenly',\r\n},\r\ninput: {\r\n    marginVertical: 8,\r\n    height: 60,\r\n    borderWidth: 1,\r\n    borderColor: \"black\",\r\n    color: '#00469B',\r\n    textAlign: 'center',\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n},\r\nboton: {\r\n    backgroundColor: '#6CCCFC',\r\n    color: '#6CCCFC',\r\n},\r\nmensaje: {\r\n    textAlign: 'center',\r\n    marginTop: 16,\r\n},\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}